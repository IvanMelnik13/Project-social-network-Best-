(self.webpackChunkbest=self.webpackChunkbest||[]).push([[48],{7048:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return x}});var t=n(9439),s=n(2791),a=n(3531),o=n(1087),c=n(4657),u=n(1230),d=n(6666),i=n.n(d),l=n(184),f=function(){return(0,l.jsx)("div",{className:"p-4",children:(0,l.jsx)(h,{})})},x=s.memo(f),h=function(){var e=(0,s.useRef)(null),r=(0,a.I0)();(0,s.useEffect)((function(){return r((0,u.BL)()),function(){r((0,u.sT)())}}),[]);var n=(0,a.v9)((function(e){return e.chat.messages})),o=(0,s.useState)(!0),c=(0,t.Z)(o,2),d=c[0],f=c[1];return(0,s.useEffect)((function(){var r;d&&(null===(r=e.current)||void 0===r||r.scrollIntoView())}),[n]),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{onScroll:function(e){var r=e.currentTarget;Math.abs(r.scrollHeight-r.scrollTop-r.clientHeight)<300?f(!0):f(!1)},className:"flex flex-col gap-2 mb-3 h-[350px] pr-2 overflow-auto",children:[null===n||void 0===n?void 0:n.map((function(e,r){return(0,l.jsx)(v,{message:e,index:r},i()())})),(0,l.jsx)("div",{ref:e})]}),(0,l.jsx)(b,{})]})},v=s.memo((function(e){var r=e.message,n=e.index;return(0,l.jsxs)("div",{className:"text-start p-1 border-2 rounded-[7px]",children:[(0,l.jsxs)("div",{className:"flex mb-1 gap-2",children:[(0,l.jsx)(o.OL,{className:"w-[50px] h-[50px] rounded-[50%] overflow-hidden border-2 border-red-700",to:"/profile/".concat(r.userId),children:(0,l.jsx)("img",{src:r.photo||c})}),(0,l.jsx)("div",{children:r.userName})]}),(0,l.jsx)("div",{children:r.message})]},n)})),b=function(e){!function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e);var r=(0,s.useState)(""),n=(0,t.Z)(r,2),o=n[0],c=n[1],d=(0,a.v9)((function(e){return e.chat.status})),i=(0,a.I0)();return(0,l.jsxs)("div",{className:"text-start",children:[(0,l.jsx)("textarea",{value:o,onChange:function(e){return function(e){c(e)}(e.currentTarget.value)},className:"block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-red-500 mb-2 resize-none focus:border-red-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-red-500 dark:focus:border-red-500",name:""}),(0,l.jsx)("button",{disabled:"ready"!==d,onClick:function(){return function(e){e&&i((0,u.bG)(e)),c("")}(o)},className:"border-2 py-1 px-5 rounded-[10px]",children:"Send"})]})}},6666:function(e){e.exports=function(){for(var e=["a","b","c","d","e","f","0","1","2","3","4","5","6","7","8","9"],r=[],n=0;n<36;n++)r[n]=8===n||13===n||18===n||23===n?"-":e[Math.ceil(Math.random()*e.length-1)];return r.join("")}},4657:function(e,r,n){"use strict";e.exports=n.p+"static/media/avatar.5cc100f95b621ce4f01b.jpg"}}]);
//# sourceMappingURL=48.28af41e3.chunk.js.map